# üß† Codebase Assistant

**Codebase Assistant** ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–¥–æ–≤–æ–π –±–∞–∑–æ–π –ø—Ä–æ–µ–∫—Ç–∞.  
–û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–¥—Ö–æ–¥ **RAG (Retrieval-Augmented Generation)** –∏ —Å—Ç–µ–∫ **LangGraph + Qdrant + Ollama + HuggingFace**, —á—Ç–æ–±—ã:

- –∏—Å–∫–∞—Ç—å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –∫–æ–¥–∞ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏,  
- –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞,  
- —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–π–¥–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã,  
- –∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∫–æ—Ä–æ—Ç–∫–∏–µ, —Ç–æ—á–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫–æ–¥–∞.

---

## üöÄ –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è

–¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî —Å–æ–∑–¥–∞—Ç—å –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–Ω–∏–º–∞–µ—Ç –∫–æ–¥–æ–≤—É—é –±–∞–∑—É –∏ –ø–æ–º–æ–≥–∞–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É –±—ã—Å—Ç—Ä–µ–µ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –Ω–µ–π:

- **–û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –æ –ø—Ä–æ–µ–∫—Ç–µ:** –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, –∫–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è, –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω API –∏ —Ç.–¥.  
- **–ü–æ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç —É–ª—É—á—à–µ–Ω–∏—è –∫–æ–¥–∞:** –Ω–∞—Ö–æ–¥–∏—Ç –¥—É–±–ª–∏, –ø–ª–æ—Ö–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏, –Ω–∞—Ä—É—à–µ–Ω–∏—è —Å—Ç–∏–ª—è.  
- **–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ commit-—Å–æ–æ–±—â–µ–Ω–∏—è.**  
- **–†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –æ—Ç–∫—Ä—ã—Ç—ã–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ –∏ –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.**

---

## –°–ø–æ—Å–æ–± –∑–∞–ø—É—Å–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone https://github.com/Aeksar/codebase_assistant.git
cd codebase_assistant
```
### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Qdrant —á–µ—Ä–µp Docker Compose
```bash
docker compose up -d
```
### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞
```bash
python3 main.py
```

--

## üß© –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### üîπ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

| –ú–æ–¥—É–ª—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|-----------|
| `main.py` | –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞–≥–µ–Ω—Ç–∞, –ø–∞–π–ø–ª–∞–π–Ω–∞ LangGraph –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π. |
| `services/graph.py` | –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –ø–∞–π–ø–ª–∞–π–Ω–∞: Query Rewriter ‚Üí Retriever ‚Üí Reranker ‚Üí LLM. |
| `services/loader.py` | –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –≤ Qdrant. |
| `services/prompt.py` | –•—Ä–∞–Ω–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ –ø—Ä–æ–º–ø—Ç–æ–≤ –∏ –ø–æ–¥—Å–∫–∞–∑–æ–∫ –¥–ª—è –∞–≥–µ–Ω—Ç–∞. |
| `services/llm.py` | –†–∞–±–æ—Ç–∞ —Å LLM —á–µ—Ä–µ–∑ Ollama –∏ HuggingFace. |
| `services/ranker.py` | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è reranker-–º–æ–¥–µ–ª–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ CrossEncoder. |
| `services/store.py` | –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Qdrant, —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –∏ –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞. |
| `models/agent_states.py` | –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π LangGraph-–∞–≥–µ–Ω—Ç–∞. |
| `models/github.py` | –ú–æ–¥–µ–ª—å –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å GitHub API (—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –∫–æ–º–º–∏—Ç—ã). |
| `models/namer.py` | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã—Ö commit-—Å–æ–æ–±—â–µ–Ω–∏–π. |
| `utils/crypto.py` | –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤. |
| `config/settings.py` | –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞: –ø—É—Ç–∏, –º–æ–¥–µ–ª–∏, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–∫—Ä—É–∂–µ–Ω–∏—è. |
| `config/logs.py` | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–≤–æ–¥–∞. |
| `commit_namer.py` | CLI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ commit message –Ω–∞ –æ—Å–Ω–æ–≤–µ git diff. |

---

## üß† –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã –∞–≥–µ–Ω—Ç–∞

–ê–≥–µ–Ω—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–∞–∫ **LangGraph-–ø–∞–π–ø–ª–∞–π–Ω**, —Å–æ—Å—Ç–æ—è—â–∏–π –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —ç—Ç–∞–ø–æ–≤:

1. **Query Rewriter**  
   –ü–µ—Ä–µ–ø–∏—Å—ã–≤–∞–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–π –≤–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —É—Ç–æ—á–Ω—è—è –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –Ω–∞–º–µ—Ä–µ–Ω–∏–µ.  
   –ü—Ä–∏–º–µ—Ä:  
   > ‚Äú–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `GITHUB_API_KEY`?‚Äù  
   ‚Üí ‚Äú–ü–æ–∫–∞–∂–∏, –≤ –∫–∞–∫–∏—Ö –º–æ–¥—É–ª—è—Ö –ø—Ä–æ–µ–∫—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è `GITHUB_API_KEY` –∏ –¥–ª—è —á–µ–≥–æ –æ–Ω–∞ –Ω—É–∂–Ω–∞.‚Äù

2. **Retriever (Qdrant)**  
   –ü–æ–∏—Å–∫ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –∫–æ–¥–∞ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤.  
   –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–æ–¥–µ–ª—å `microsoft/codebert-base` –¥–ª—è –∫–æ–¥–æ–≤—ã—Ö —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤.

3. **Reranker (CrossEncoder)**  
   –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è —Ç–æ—á–Ω–æ—Å—Ç–∏.  
   –ú–æ–¥–µ–ª—å: `cross-encoder/ms-marco-MiniLM-L-6-v2`.

4. **LLM (Ollama / HuggingFace)**  
   –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫—Ä–∞—Ç–∫–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫–æ–¥–∞ –∏ –ø–æ—è—Å–Ω–µ–Ω–∏—è–º–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.  
   –ü—Ä–∏–º–µ—Ä–Ω–æ –≤ —Ç–∞–∫–æ–º —Å—Ç–∏–ª–µ:
